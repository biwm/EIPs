(window.webpackJsonp=window.webpackJsonp||[]).push([[630],{1046:function(a,t,e){"use strict";e.r(t);var s=e(46),o=Object(s.a)({},(function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[e("h2",{attrs:{id:"simple-summary"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#simple-summary"}},[a._v("#")]),a._v(" Simple Summary")]),a._v(" "),e("p",[a._v("Allow contracts to be called directly by "),e("code",[a._v("block.coinbase")]),a._v(" (block validator), without a transaction.")]),a._v(" "),e("h2",{attrs:{id:"abstract"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#abstract"}},[a._v("#")]),a._v(" Abstract")]),a._v(" "),e("p",[e("em",[a._v("In proof-of-work blockchains, validators are known as miners.")])]),a._v(" "),e("p",[a._v("The validator might want to execute functions directly, without having to sign a transaction. Some examples might be presenting a proof in a contract for an change which also benefits the validator.")]),a._v(" "),e("p",[a._v("A notable example would be when a validator want to act as an "),e("RouterLink",{attrs:{to:"/zh/eip-1077.html"}},[a._v("EIP-1077")]),a._v(" Gas Relayer, incentivized to pick up fees from meta transactions. Without this change, they can do so by signing from any address a "),e("code",[a._v("gasPrice = 0")]),a._v(" transaction with the gas relayed call. However this brings an overhead of a signed transaction by validator that does nothing, as "),e("code",[a._v("msg.sender")]),a._v(" is never used, and there is no gas cost to EVM charge.")],1),a._v(" "),e("p",[a._v("This proposal makes possible to remove this unused ecrecover.")]),a._v(" "),e("h2",{attrs:{id:"motivation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#motivation"}},[a._v("#")]),a._v(" Motivation")]),a._v(" "),e("p",[a._v("In order to reduce the overhead of calls that don't use "),e("code",[a._v("msg.sender")]),a._v(" and are being called by validator with "),e("code",[a._v("tx.gasPrice = 0")]),a._v(".")]),a._v(" "),e("h2",{attrs:{id:"specification"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#specification"}},[a._v("#")]),a._v(" Specification")]),a._v(" "),e("p",[a._v("The calls to be executed by "),e("code",[a._v("block.coinbase")]),a._v(" would be included first at block, and would consume normally the gas of block, however they won't pay/cost gas, instead the call logic would pay the validator in other form.")]),a._v(" "),e("p",[a._v("Would be valid to execute any calls without a transaction by the block coinbase, except when the validator call tries to read "),e("code",[a._v("msg.sender")]),a._v(", which would throw an invalid jump.")]),a._v(" "),e("p",[a._v("Calls included by the validator would have "),e("code",[a._v("tx.origin = block.coinbase")]),a._v(" and "),e("code",[a._v("gas.price = 0")]),a._v(" for the rest of call stack, the rest follows as normal calls.")]),a._v(" "),e("h2",{attrs:{id:"rationale"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#rationale"}},[a._v("#")]),a._v(" Rationale")]),a._v(" "),e("p",[a._v("TBD")]),a._v(" "),e("h2",{attrs:{id:"backwards-compatibility"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#backwards-compatibility"}},[a._v("#")]),a._v(" Backwards Compatibility")]),a._v(" "),e("p",[e("code",[a._v("tx.origin = block.coinbase")]),a._v(" could cause some issues on bad designed contracts, such as using "),e("code",[a._v("tx.origin")]),a._v(" to validate a signature, an analysis on how contracts use tx.origin might be useful to decide if this is a good choice.")]),a._v(" "),e("h2",{attrs:{id:"test-cases"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#test-cases"}},[a._v("#")]),a._v(" Test Cases")]),a._v(" "),e("p",[a._v("TBD")]),a._v(" "),e("h2",{attrs:{id:"implementation"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#implementation"}},[a._v("#")]),a._v(" Implementation")]),a._v(" "),e("p",[a._v("TBD")]),a._v(" "),e("h2",{attrs:{id:"security-considerations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#security-considerations"}},[a._v("#")]),a._v(" Security Considerations")]),a._v(" "),e("p",[a._v("TBD")]),a._v(" "),e("h2",{attrs:{id:"copyright"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#copyright"}},[a._v("#")]),a._v(" Copyright")]),a._v(" "),e("p",[a._v("Copyright and related rights waived via "),e("a",{attrs:{href:"https://creativecommons.org/publicdomain/zero/1.0/",target:"_blank",rel:"noopener noreferrer"}},[a._v("CC0"),e("OutboundLink")],1),a._v(".")])])}),[],!1,null,null,null);t.default=o.exports}}]);