(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{341:function(e,t,r){e.exports=r.p+"assets/img/OpenRPC_structure.7d4d16c9.png"},342:function(e,t,r){e.exports=r.p+"assets/img/multi-geth-use-case.e5283211.png"},343:function(e,t,r){e.exports=r.p+"assets/img/eth-playground-openrpc.3c6474a1.gif"},344:function(e,t,r){e.exports=r.p+"assets/img/eth-generated-client-openrpc.9753b5ee.gif"},345:function(e,t,r){e.exports=r.p+"assets/img/inspector-mock-server-openrpc.5fd8df51.png"},970:function(e,t,r){"use strict";r.r(t);var a=r(46),n=Object(a.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h2",{attrs:{id:"abstract"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#abstract"}},[e._v("#")]),e._v(" Abstract")]),e._v(" "),a("h3",{attrs:{id:"what-is-this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-is-this"}},[e._v("#")]),e._v(" What is this?")]),e._v(" "),a("p",[e._v("This is a proposal to add "),a("a",{attrs:{href:"https://github.com/open-rpc/spec",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenRPC"),a("OutboundLink")],1),e._v(" support to existing and future JSON-RPC services by adding the method "),a("a",{attrs:{href:"https://github.com/open-rpc/spec#service-discovery-method",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("rpc.discover")]),a("OutboundLink")],1),e._v(" to the projects "),a("a",{attrs:{href:"https://www.jsonrpc.org/specification",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON-RPC"),a("OutboundLink")],1),e._v(" APIs, enabling automation and tooling.")]),e._v(" "),a("p",[e._v("The OpenRPC Document and generated Documentation that specifies all the methods an EVM-based blockchain should implement can be found "),a("a",{attrs:{href:"https://github.com/etclabscore/ethereum-json-rpc-specification",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("This was first proposed "),a("a",{attrs:{href:"https://github.com/etclabscore/ECIPs/blob/master/ECIPs/ECIP-1053.md",target:"_blank",rel:"noopener noreferrer"}},[e._v("here as an ECIP"),a("OutboundLink")],1),e._v(", but the benefits of this kind of tooling is apparent across Bitcoin, Ethereum Classic, Ethereum and other JSON-RPC accessible blockchains.")]),e._v(" "),a("h2",{attrs:{id:"motivation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#motivation"}},[e._v("#")]),e._v(" Motivation")]),e._v(" "),a("p",[e._v("Although "),a("RouterLink",{attrs:{to:"/zh/eip-1474.html"}},[e._v("EIP-1474")]),e._v(" outlines a JSON-RPC specification. Ethereum still lacks a machine-readable JSON-RPC Specification that can be used as the industry standard for tooling. This proposal attempts to standardize such a specification in a way that is versionable, and both human and machine readable.")],1),e._v(" "),a("p",[e._v("Ethereum clients can expose RPC endpoints with different method signatures and cause compatibility issues between clients.")]),e._v(" "),a("p",[e._v("Developers need a reliable developer experience, and an industry standard way to describe Ethereum JSON-RPC 2.0 APIs.")]),e._v(" "),a("h2",{attrs:{id:"specification"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#specification"}},[e._v("#")]),e._v(" Specification")]),e._v(" "),a("h3",{attrs:{id:"what-is-openrpc"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#what-is-openrpc"}},[e._v("#")]),e._v(" What is OpenRPC?")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://github.com/open-rpc/spec",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenRPC"),a("OutboundLink")],1),e._v(" Specification defines a standard, programming language-agnostic interface description for "),a("a",{attrs:{href:"https://www.jsonrpc.org/specification",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON-RPC 2.0"),a("OutboundLink")],1),e._v(" APIs, which allows both humans and computers to discover and understand the capabilities of a service without requiring access to source code, additional documentation, or inspection of network traffic. When properly defined via OpenRPC, a consumer can understand and interact with the remote service with a minimal amount of implementation logic, and share these logic patterns across use cases. Similar to what interface descriptions have done for lower-level programming, the OpenRPC Specification removes guesswork in calling a service.")]),e._v(" "),a("h5",{attrs:{id:"structure"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#structure"}},[e._v("#")]),e._v(" Structure")]),e._v(" "),a("p",[e._v("This is the structure of an OpenRPC Document:")]),e._v(" "),a("p",[a("img",{attrs:{src:r(341),alt:"openrpc-spec-structure"}})]),e._v(" "),a("p",[e._v("JSON-RPC APIs can support the OpenRPC specification by implementing a service discovery method that will return the "),a("a",{attrs:{href:"https://github.com/open-rpc/spec#openrpc-document",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenRPC document"),a("OutboundLink")],1),e._v(" for the JSON-RPC API. The method MUST be named "),a("code",[e._v("rpc.discover")]),e._v(". The "),a("code",[e._v("rpc.")]),e._v(" prefix is a reserved method prefix for "),a("a",{attrs:{href:"https://www.jsonrpc.org/specification",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON-RPC 2.0 Specification"),a("OutboundLink")],1),e._v(" system extensions.")]),e._v(" "),a("h3",{attrs:{id:"use-case"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#use-case"}},[e._v("#")]),e._v(" Use Case")]),e._v(" "),a("p",[e._v("This is the vision for the use case of OpenRPC and how it would relate to a client implementation like multi-geth:")]),e._v(" "),a("p",[a("img",{attrs:{src:r(342),alt:"MultGethRpc-usecase"}})]),e._v(" "),a("h2",{attrs:{id:"rationale"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rationale"}},[e._v("#")]),e._v(" Rationale")]),e._v(" "),a("h3",{attrs:{id:"why-would-we-do-this"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#why-would-we-do-this"}},[e._v("#")]),e._v(" Why would we do this?")]),e._v(" "),a("p",[e._v("Services need to figure out how to talk to each other. If we really want to build the next generation of automation, then having up to date libraries, documented APIs, and modern tools are going to provide easy discovery, on-boarding, and enable end user and developer interaction.")]),e._v(" "),a("p",[e._v("Use cases for machine-readable "),a("a",{attrs:{href:"https://www.jsonrpc.org/specification",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON-RPC 2.0"),a("OutboundLink")],1),e._v(" API definition documents include, but are not limited to:")]),e._v(" "),a("ul",[a("li",[e._v("A common vocabulary and document will keep developers, testers, architects, and technical writers all in sync.")]),e._v(" "),a("li",[e._v("Server stubs/skeletons generated in many languages")]),e._v(" "),a("li",[e._v("Clients generated in many languages")]),e._v(" "),a("li",[e._v("Mock Server generated in many languages")]),e._v(" "),a("li",[e._v("Tests generated in many languages")]),e._v(" "),a("li",[e._v("Documentation Generation")])]),e._v(" "),a("h3",{attrs:{id:"alternative"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#alternative"}},[e._v("#")]),e._v(" Alternative")]),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/open-rpc/spec",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenRPC"),a("OutboundLink")],1),e._v(" documents just describe "),a("a",{attrs:{href:"https://www.jsonrpc.org/specification",target:"_blank",rel:"noopener noreferrer"}},[e._v("JSON-RPC"),a("OutboundLink")],1),e._v(" APIs services, and are represented in JSON format. These documents may be produced and served statically OR generated dynamically from an application and returned via the "),a("a",{attrs:{href:"https://github.com/open-rpc/spec#service-discovery-method",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("rpc.discover")]),a("OutboundLink")],1),e._v(" method. This gives projects and communities the opportunity to adopt tools, documentation, and clients outlined in the "),a("RouterLink",{attrs:{to:"/zh/eip-1474.html"}},[e._v("etclabscore/ethereum-json-rpc-specification")]),e._v(" before the "),a("a",{attrs:{href:"https://github.com/open-rpc/spec#service-discovery-method",target:"_blank",rel:"noopener noreferrer"}},[a("code",[e._v("rpc.discover")]),a("OutboundLink")],1),e._v(" method is implemented for a particular client.")],1),e._v(" "),a("h2",{attrs:{id:"implementation"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#implementation"}},[e._v("#")]),e._v(" Implementation")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/multi-geth/multi-geth#openrpc-discovery",target:"_blank",rel:"noopener noreferrer"}},[e._v("Multi-Geth OpenRPC Discovery"),a("OutboundLink")],1)])]),e._v(" "),a("h3",{attrs:{id:"tooling"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tooling"}},[e._v("#")]),e._v(" Tooling")]),e._v(" "),a("h4",{attrs:{id:"interactive-documentation-playground"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#interactive-documentation-playground"}},[e._v("#")]),e._v(" Interactive Documentation Playground")]),e._v(" "),a("p",[e._v("You can view the interactive documentation "),a("a",{attrs:{href:"https://playground.open-rpc.org/?schemaUrl=https://raw.githubusercontent.com/etclabscore/ethereum-json-rpc-specification/master/openrpc.json",target:"_blank",rel:"noopener noreferrer"}},[e._v("here"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[a("strong",[e._v("OR")])]),e._v(" "),a("p",[e._v("Using "),a("code",[e._v("rpc.discover")]),e._v(" via multi-geth, the playground can discover and display the documentation for the Ethereum JSON-RPC API:")]),e._v(" "),a("p",[a("img",{attrs:{src:r(343),alt:"eth-playground-openrpc"}})]),e._v(" "),a("h4",{attrs:{id:"generated-client"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#generated-client"}},[e._v("#")]),e._v(" Generated Client")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://github.com/etclabscore/ethereum-json-rpc-specification#clients",target:"_blank",rel:"noopener noreferrer"}},[e._v("clients"),a("OutboundLink")],1),e._v(" are generated from the OpenRPC Document openrpc.json outlined in this EIP, and can be used as an alternative to web3.js or ethers.js but for various languages:")]),e._v(" "),a("p",[a("img",{attrs:{src:r(344),alt:"eth-generated-client-openrpc"}})]),e._v(" "),a("h4",{attrs:{id:"mock-server"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#mock-server"}},[e._v("#")]),e._v(" Mock Server")]),e._v(" "),a("p",[e._v("The "),a("a",{attrs:{href:"https://github.com/open-rpc/mock-server",target:"_blank",rel:"noopener noreferrer"}},[e._v("OpenRPC mock server"),a("OutboundLink")],1),e._v(" provides a mock server for any given OpenRPC Document which allows testing without booting up a real network.")]),e._v(" "),a("p",[a("img",{attrs:{src:r(345),alt:"inspector-mock-server-openrpc"}})]),e._v(" "),a("h2",{attrs:{id:"resources"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#resources"}},[e._v("#")]),e._v(" Resources")]),e._v(" "),a("ul",[a("li",[a("a",{attrs:{href:"https://github.com/multi-geth/multi-geth#openrpc-discovery",target:"_blank",rel:"noopener noreferrer"}},[e._v("Multi-Geth OpenRPC Discovery"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://www.youtube.com/watch?v=UgSPMZ9FQ4Q",target:"_blank",rel:"noopener noreferrer"}},[e._v("EDCON 2019 talk on OpenRPC and The Future of JSON-RPC Tooling"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://github.com/etclabscore/ethereum-json-rpc-specification",target:"_blank",rel:"noopener noreferrer"}},[e._v("etclabscore/ethereum-json-rpc-specification"),a("OutboundLink")],1)]),e._v(" "),a("li",[a("a",{attrs:{href:"https://open-rpc.org",target:"_blank",rel:"noopener noreferrer"}},[e._v("open-rpc.org"),a("OutboundLink")],1)])]),e._v(" "),a("h2",{attrs:{id:"copyright"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#copyright"}},[e._v("#")]),e._v(" Copyright")]),e._v(" "),a("p",[e._v("Copyright and related rights waived via "),a("a",{attrs:{href:"https://creativecommons.org/publicdomain/zero/1.0/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CC0"),a("OutboundLink")],1),e._v(".")])])}),[],!1,null,null,null);t.default=n.exports}}]);